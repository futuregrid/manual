<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4. Unicore &mdash; Cloud Computing Book 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-2.3.2/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootswatch/2.3.2/cosmo/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-2.3.2/css/bootstrap-responsive.min.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-2.3.2/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Cloud Computing Book 0.1 documentation" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <a class="brand" href="index.html">Contents</a>
        <span class="navbar-text pull-left"><b>0.1</b></span>

        <div class="nav-collapse">
          <ul class="nav">
            <li class="divider-vertical"></li>
            
              <li class="dropdown globaltoc-container">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul>
<li class="toctree-l1"><a class="reference internal" href="preface.html">1. Preface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="preface.html#citation-for-publications">1.1. Citation for Publications</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html#acknowledgement">1.2. Acknowledgement</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html#sponsors">1.3. Sponsors</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html#about-this-manual">1.4. About this Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="preface.html#conventions">1.5. Conventions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">2. Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#executive-summary">2.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#project-and-account-application">2.2. Project and Account Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#services">2.3. Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#hardware">2.4. Hardware</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#support">2.5. Support</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="account.html">1. Project and Account Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="account.html#terminology">1.1. Terminology</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#quickstart">1.2. Quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#projects-and-accounts-for-xsede-users">1.3. Projects and Accounts for XSEDE users</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#project-management">1.4. Project Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#upload-a-ssh-public-key">1.5. Upload a SSH Public Key</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#upload-an-openid">1.6. Upload an OpenId</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#accessing-futuregrid-resources">1.7. Accessing FutureGrid Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#manage-a-class-on-futuregrid">1.8. Manage a Class on FutureGrid</a></li>
<li class="toctree-l2"><a class="reference internal" href="account.html#mini-faq">1.9. Mini FAQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="security.html">2. Using SSH Keys</a><ul>
<li class="toctree-l2"><a class="reference internal" href="security.html#using-ssh-from-windows">2.1. Using SSH from Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#generate-a-ssh-key">2.2. Generate a SSH key</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#add-or-replace-passphrase-for-an-already-generated-key">2.3. Add or Replace Passphrase for an Already Generated Key</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#upload-the-key-to-the-futuregrid-portal">2.4. Upload the key to the FutureGrid Portal</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#testing-your-ssh-key">2.5. Testing your ssh key</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#testing-your-ssh-key-for-hotel">2.6. Testing your ssh key for Hotel</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="status.html">1. Status</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hardware.html">1. Hardware</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#compute-resources">1.1. Compute Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#networks">1.2. Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#network-impairments-device-nid">1.3. Network Impairments Device (NID)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hpc.html">2. HPC Services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#login-nodes">2.1. Login Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#message-passing-interface-mpi">2.2. Message Passing Interface (MPI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#job-management">2.3. Job Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html#xray-hpc-services">2.4. Xray HPC Services</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scalemp.html">3. ScaleMP vSMP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="scalemp.html#accessing-scalemp">3.1. Accessing ScaleMP</a></li>
<li class="toctree-l2"><a class="reference internal" href="scalemp.html#submitting-a-job">3.2. Submitting a job</a></li>
<li class="toctree-l2"><a class="reference internal" href="scalemp.html#developing-a-job-script">3.3. Developing a job script</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="iaas.html">1. IaaS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="iaas.html#nimbus-clouds">1.1. Nimbus Clouds</a></li>
<li class="toctree-l2"><a class="reference internal" href="iaas.html#openstack-clouds">1.2. OpenStack Clouds</a></li>
<li class="toctree-l2"><a class="reference internal" href="iaas.html#eucalyptus-clouds">1.3. Eucalyptus Clouds</a></li>
<li class="toctree-l2"><a class="reference internal" href="iaas.html#virtual-appliances-for-training-and-education">1.4. Virtual Appliances for Training and Education</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="openstack-grizzly.html">3. OpenStack Grizzly</a><ul>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#login">3.1. Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#creating-the-novarc-file">3.2. Creating the novarc file</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#activate-openstack-tools">3.3. Activate OpenStack tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#list-flavors">3.4. List flavors</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#list-images">3.5. List images</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#key-management">3.6. Key management</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#managing-security-groups">3.7. Managing security groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#booting-an-image">3.8. Booting an image</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#list-running-images">3.9. List running images</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#use-block-storage">3.10. Use block storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#set-up-external-access-to-your-instance">3.11. Set up external access to your instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#make-a-snapshot-of-an-instance">3.12. Make a snapshot of an instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#automate-some-initial-configuration">3.13. Automate some initial configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#get-the-latest-version-of-ubuntu-cloud-image-and-upload-it-to-the-openstack">3.14. Get the latest version of Ubuntu Cloud Image and upload it to the OpenStack</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#delete-your-instance">3.15. Delete your instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#how-to-change-your-password">3.16. How to change your password</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#things-to-do-when-you-need-euca2ools-or-ec2-interfaces">3.17. Things to do when you need Euca2ools or EC2 interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack-grizzly.html#horizon-gui">3.18. Horizon GUI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="openstack.html">2. OpenStack Essex with euca2ools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#prerequisites">2.1. Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#log-into-india">2.2. Log into India</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#system-variable-user">2.3. System Variable $USER</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#account-and-credentials">2.4. Account and Credentials</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#euca2ools-ec2-client-tools">2.5. Euca2ools (EC2 client tools)</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#testing-your-setup">2.6. Testing Your Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#list-of-common-images">2.7. List of Common Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#vm-types">2.8. VM Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#key-management">2.9. Key Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#image-instantiation">2.10. Image Instantiation</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#rename-server-names">2.11. Rename Server Names</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#monitoring-instances">2.12. Monitoring Instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#log-into-your-vm">2.13. Log into your VM</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#nova-volumes-not-available">2.14. Nova Volumes (Not available)</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#volume-snapshots">2.15. Volume Snapshots</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#image-registration">2.16. Image Registration</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#delete-your-images">2.17. Delete your images</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#terminate-your-vms">2.18. Terminate your VMs</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#limitations">2.19. Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#troubleshooting">2.20. Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstack.html#compatibility-between-nova-and-euca2ools-commands">2.21. Compatibility between nova and euca2ools commands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="eucalyptus.html">5. Eucalyptus</a><ul>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#account-creation">5.1. Account Creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#resources-overview">5.2. Resources Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#testing-your-setup">5.3. Testing Your Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#image-deployment">5.4. Image Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#logging-into-the-vm">5.5. Logging Into the VM</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#vm-network-info">5.6. VM Network Info</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#image-management">5.7. Image Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="eucalyptus.html#status-of-deployments">5.8. Status of Deployments</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="rain.html">4. RAIN</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rain.html#generate-and-register-an-os-image-on-futuregrid-using-the-fg-shell">4.1. Generate and Register an OS Image on FutureGrid using the FG Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="rain.html#futuregrid-standalone-image-repository">4.2. FutureGrid Standalone Image Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="rain.html#manual-image-customization">4.3. Manual Image Customization</a></li>
<li class="toctree-l2"><a class="reference internal" href="rain.html#rain-manual-pages">4.4. RAIN Manual Pages</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="books.html">1. Books</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mooc.html">1. Screencast: Using FutureGrid</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mooc.html#overview">1.1. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="mooc.html#prerequisites">1.2. Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="mooc.html#instructor-bio">1.3. Instructor Bio</a></li>
<li class="toctree-l2"><a class="reference internal" href="mooc.html#course-content">1.4. Course Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="mooc.html#exercises">1.5. Exercises</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="todolist.html">1. Todo List</a></li>
<li class="toctree-l1"><a class="reference internal" href="plan.html">2. Plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="git.html">13. Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">11. Building the Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#python">11.1. Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#virtualenv">11.2. Virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#create-a-github-local-directory-with-the-manual">11.3. Create a github local directory with the manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#install-the-requirements">11.4. Install the Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#all-in-one-setup-script">11.5. All-in-one setup script</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#watchdog">11.6. Watchdog</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#transfering-a-page-from-the-portal-to-rst">11.7. Transfering a page from the portal to RST</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#creating-the-pages-locally">11.8. Creating the pages locally</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#publishing-the-pages">11.9. Publishing the pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#jira">11.10. jira</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#portal-link">11.11. Portal link</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#screencast-recording-tips">11.12. Screencast recording tips</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ring.html">1. MPI Ring Program</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="python.html">12. Just Enough Python for the Cloud</a><ul>
<li class="toctree-l2"><a class="reference internal" href="python.html#terminal">12.1. Terminal</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#os-specific">12.2. OS Specific</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#lanaguage-features">12.3. Lanaguage Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#local">12.4. Local</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#ecosystem">12.5. Ecosystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#excersises">12.6. Excersises</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">4. Unicore</a><ul>
<li><a class="reference internal" href="#unicore-6-on-futuregrid-user-manual">4.1. UNICORE 6 on FutureGrid User Manual</a></li>
<li><a class="reference internal" href="#introduction">4.2. Introduction</a></li>
<li><a class="reference internal" href="#what-is-unicore">4.3. What is UNICORE?</a></li>
<li><a class="reference internal" href="#connecting-to-the-unicore-bes-endpoints-from-other-grid-middleware-clients">4.4. Connecting to the UNICORE BES Endpoints From Other Grid Middleware Clients</a><ul>
<li><a class="reference internal" href="#india-endpoint-info-currently-unavailable">4.4.1. India Endpoint Info &lt;currently unavailable&gt;</a></li>
<li><a class="reference internal" href="#sierra-endpoint-info">4.4.2. Sierra Endpoint Info</a></li>
</ul>
</li>
<li><a class="reference internal" href="#connecting-to-the-unicore-bes-endpoints-using-a-unicore-commandline-client">4.5. Connecting to the UNICORE BES Endpoints Using a UNICORE Commandline Client</a><ul>
<li><a class="reference internal" href="#installing-the-unicore6-commandline-client-ucc">4.5.1. Installing the UNICORE6 Commandline Client (UCC)</a><ul>
<li><a class="reference internal" href="#acquire-client-bundle">4.5.1.1. Acquire Client Bundle</a></li>
<li><a class="reference internal" href="#unpack-ucc">4.5.1.2. Unpack UCC</a></li>
<li><a class="reference internal" href="#examine-ucc-files">4.5.1.3. Examine UCC Files</a></li>
<li><a class="reference internal" href="#run-commandline-client">4.5.1.4. Run Commandline Client</a></li>
<li><a class="reference internal" href="#installation-conclusion">4.5.1.5. Installation Conclusion</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuring-client-to-connect-to-futuregrid-u6-endpoints">4.5.2. Configuring Client to Connect to FutureGrid U6 Endpoints</a><ul>
<li><a class="reference internal" href="#configuration-overview">4.5.2.1. Configuration Overview</a></li>
</ul>
</li>
<li><a class="reference internal" href="#setting-up-security-in-unicore">4.5.3. Setting Up Security in UNICORE</a></li>
<li><a class="reference internal" href="#setting-up-a-keystore">4.5.4. Setting Up a Keystore</a><ul>
<li><a class="reference internal" href="#creating-a-truststore">4.5.4.1. Creating a Truststore</a></li>
<li><a class="reference internal" href="#acquiring-the-registry-address">4.5.4.2. Acquiring the Registry Address</a></li>
<li><a class="reference internal" href="#connecting-to-endpoints-w-o-registries">4.5.4.3. Connecting to Endpoints w/o Registries</a></li>
<li><a class="reference internal" href="#preferences-file-modifications">4.5.4.4. Preferences File Modifications</a></li>
<li><a class="reference internal" href="#example-preferences-file">4.5.4.5. Example Preferences File</a></li>
<li><a class="reference internal" href="#locating-the-preferences-file">4.5.4.6. Locating the Preferences File</a></li>
<li><a class="reference internal" href="#validate-client-setup">4.5.4.7. Validate Client Setup</a></li>
<li><a class="reference internal" href="#configuration-conclusion">4.5.4.8. Configuration Conclusion</a></li>
</ul>
</li>
<li><a class="reference internal" href="#submitting-jobs-to-futuregrid-u6-endpoints">4.5.5. Submitting Jobs to FutureGrid U6 Endpoints</a><ul>
<li><a class="reference internal" href="#getting-started">4.5.5.1. Getting Started</a></li>
<li><a class="reference internal" href="#submit-jobs-to-bes">4.5.5.2. Submit Jobs to BES</a></li>
<li><a class="reference internal" href="#other-bes-related-commands">4.5.5.3. Other BES Related Commands</a></li>
<li><a class="reference internal" href="#job-submission-conclusion">4.5.5.4. Job Submission Conclusion</a></li>
</ul>
</li>
<li><a class="reference internal" href="#references">4.5.6. References</a></li>
<li><a class="reference internal" href="#questions-comments">4.5.7. Questions/Comments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-jobs-on-unicore-sites">4.6. Running Jobs on UNICORE Sites</a></li>
<li><a class="reference internal" href="#deploying-a-new-unicore-6-grid">4.7. Deploying a New UNICORE 6 Grid</a><ul>
<li><a class="reference internal" href="#prerequisites">4.7.1. Prerequisites</a></li>
<li><a class="reference internal" href="#installing-the-core-server-bundle">4.7.2. Installing the Core Server Bundle</a></li>
<li><a class="reference internal" href="#starting-stopping-the-unicore-servers">4.7.3. Starting/Stopping the UNICORE Servers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
            
            
              
            
            
              <li>
  <a href="_sources/unicore.txt"
     rel="nofollow">Source</a></li>
            
          </ul>

          
            
<form class="navbar-search pull-right" action="search.html" method="get">
  <input type="text" name="q" class="search-query" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
      </div>
    </div>
  </div>

<div class="container">
  
  <div class="section" id="unicore">
<h1>4. Unicore<a class="headerlink" href="#unicore" title="Permalink to this headline">¶</a></h1>
<div class="sidebar">
<p class="first sidebar-title">Page Contents</p>
<div class="contents local last topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#unicore-6-on-futuregrid-user-manual" id="id1">UNICORE 6 on FutureGrid User Manual</a></li>
<li><a class="reference internal" href="#introduction" id="id2">Introduction</a></li>
<li><a class="reference internal" href="#what-is-unicore" id="id3">What is UNICORE?</a></li>
<li><a class="reference internal" href="#connecting-to-the-unicore-bes-endpoints-from-other-grid-middleware-clients" id="id4">Connecting to the UNICORE BES Endpoints From Other Grid Middleware Clients</a><ul>
<li><a class="reference internal" href="#india-endpoint-info-currently-unavailable" id="id5">India Endpoint Info &lt;currently unavailable&gt;</a></li>
<li><a class="reference internal" href="#sierra-endpoint-info" id="id6">Sierra Endpoint Info</a></li>
</ul>
</li>
<li><a class="reference internal" href="#connecting-to-the-unicore-bes-endpoints-using-a-unicore-commandline-client" id="id7">Connecting to the UNICORE BES Endpoints Using a UNICORE Commandline Client</a><ul>
<li><a class="reference internal" href="#installing-the-unicore6-commandline-client-ucc" id="id8">Installing the UNICORE6 Commandline Client (UCC)</a><ul>
<li><a class="reference internal" href="#acquire-client-bundle" id="id9">Acquire Client Bundle</a></li>
<li><a class="reference internal" href="#unpack-ucc" id="id10">Unpack UCC</a></li>
<li><a class="reference internal" href="#examine-ucc-files" id="id11">Examine UCC Files</a></li>
<li><a class="reference internal" href="#run-commandline-client" id="id12">Run Commandline Client</a></li>
<li><a class="reference internal" href="#installation-conclusion" id="id13">Installation Conclusion</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuring-client-to-connect-to-futuregrid-u6-endpoints" id="id14">Configuring Client to Connect to FutureGrid U6 Endpoints</a><ul>
<li><a class="reference internal" href="#configuration-overview" id="id15">Configuration Overview</a></li>
</ul>
</li>
<li><a class="reference internal" href="#setting-up-security-in-unicore" id="id16">Setting Up Security in UNICORE</a></li>
<li><a class="reference internal" href="#setting-up-a-keystore" id="id17">Setting Up a Keystore</a><ul>
<li><a class="reference internal" href="#creating-a-truststore" id="id18">Creating a Truststore</a></li>
<li><a class="reference internal" href="#acquiring-the-registry-address" id="id19">Acquiring the Registry Address</a></li>
<li><a class="reference internal" href="#connecting-to-endpoints-w-o-registries" id="id20">Connecting to Endpoints w/o Registries</a></li>
<li><a class="reference internal" href="#preferences-file-modifications" id="id21">Preferences File Modifications</a></li>
<li><a class="reference internal" href="#example-preferences-file" id="id22">Example Preferences File</a></li>
<li><a class="reference internal" href="#locating-the-preferences-file" id="id23">Locating the Preferences File</a></li>
<li><a class="reference internal" href="#validate-client-setup" id="id24">Validate Client Setup</a></li>
<li><a class="reference internal" href="#configuration-conclusion" id="id25">Configuration Conclusion</a></li>
</ul>
</li>
<li><a class="reference internal" href="#submitting-jobs-to-futuregrid-u6-endpoints" id="id26">Submitting Jobs to FutureGrid U6 Endpoints</a><ul>
<li><a class="reference internal" href="#getting-started" id="id27">Getting Started</a></li>
<li><a class="reference internal" href="#submit-jobs-to-bes" id="id28">Submit Jobs to BES</a></li>
<li><a class="reference internal" href="#other-bes-related-commands" id="id29">Other BES Related Commands</a></li>
<li><a class="reference internal" href="#job-submission-conclusion" id="id30">Job Submission Conclusion</a></li>
</ul>
</li>
<li><a class="reference internal" href="#references" id="id31">References</a></li>
<li><a class="reference internal" href="#questions-comments" id="id32">Questions/Comments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-jobs-on-unicore-sites" id="id33">Running Jobs on UNICORE Sites</a></li>
<li><a class="reference internal" href="#deploying-a-new-unicore-6-grid" id="id34">Deploying a New UNICORE 6 Grid</a><ul>
<li><a class="reference internal" href="#prerequisites" id="id35">Prerequisites</a></li>
<li><a class="reference internal" href="#installing-the-core-server-bundle" id="id36">Installing the Core Server Bundle</a></li>
<li><a class="reference internal" href="#starting-stopping-the-unicore-servers" id="id37">Starting/Stopping the UNICORE Servers</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="figure">
<a class="reference internal image-reference" href="_images/otf_0.png"><img alt="_images/otf_0.png" src="_images/otf_0.png" style="width: 400.0px; height: 255.0px;" /></a>
<p class="caption">Unicore 6</p>
</div>
<div class="section" id="unicore-6-on-futuregrid-user-manual">
<h2><a class="toc-backref" href="#id1">4.1. UNICORE 6 on FutureGrid User Manual</a><a class="headerlink" href="#unicore-6-on-futuregrid-user-manual" title="Permalink to this headline">¶</a></h2>
<p>Author: Karolina Sarnowska-Upton, University of Virginia
Version: 1.0
Last Revision: 2013-07-01, Gregor von Laszewski</p>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id2">4.2. Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://www.unicore.eu/download/unicore6%A0">UNICORE 6</a> has been
deployed at various FutureGrid sites. This tutorial explains how to
connect to the existing FutureGrid UNICORE endpoints from other grid
middleware platforms or a UNICORE Commandline Client (UCC) as well as
how runs jobs on UNICORE sites and how to deploy a new UNICORE grid.</p>
</div>
<div class="section" id="what-is-unicore">
<h2><a class="toc-backref" href="#id3">4.3. What is UNICORE?</a><a class="headerlink" href="#what-is-unicore" title="Permalink to this headline">¶</a></h2>
<p>UNICORE (Uniform Interface to Computing Resources) is a Grid middleware
system. Listed below are the key principles of the UNICORE design. More
information about UNICORE can be found at
<a class="reference external" href="http://www.unicore.eu">http://www.unicore.eu</a>.</p>
<ul class="simple">
<li>Open source under BSD license.</li>
<li>Standards-based, conforming to the latest standards from the Open
Grid Forum (OGF), W3C, OASIS, and IETF, in particular the Open Grid
Services Architecture (OGSA) and the Web Services Resource Framework
(WS-RF 1.2).</li>
<li>Open and extensible realized with a modern Service- Oriented
Architecture (SOA), which allows easily replacement of particular
components with others.</li>
<li>Interoperable with other Grid technologies to enable a coupling of
Grid infrastructures or the users needs</li>
<li>Seamless, secure, and intuitive following a vertical, end-to-end
approach and offering components at all levels of a modern Grid
architecture from intuitive user interfaces down to the resource
level. Like previous versions UNICORE 6 seamlessly integrates in
existing environments.</li>
<li>Mature security mechanisms adequate for the use in supercomputing
environments and Grid infrastructures. X.509 certificates form the
basis for authentication and authorization, enhanced with a support
for proxy certificates and virtual organizations (VO) based access
control.</li>
<li>Workflow support tightly integrated into the stack while being
extensible in order to use different workflow languages and engines
for domain-specific usage.</li>
<li>Application integration mechanisms on the client, services and
resource level for a tight integration of various types of
applications from the scientific and industrial domain.</li>
<li>Different clients serving the needs of various scientific
communities, e.g. graphical clients to define complex workflows,
command line tool, web based access.</li>
<li>Quick and simple to install and configure to address requirements
from operational teams and to lower the barrier of adopting Grid
technologies. Similar the configuration of the various services and
components is easy to handle.</li>
<li>Various operating and batch systems are supported on all layers, i.e.
clients, services and systems; Windows, MacOS, Linux, and Unix
systems as well as different batch systems are supported such as
LoadLeveler, Torque, SLURM, LSF, OpenCCS, etc.</li>
<li>Implemented in Java to achieve platform independence.</li>
</ul>
</div>
<div class="section" id="connecting-to-the-unicore-bes-endpoints-from-other-grid-middleware-clients">
<h2><a class="toc-backref" href="#id4">4.4. Connecting to the UNICORE BES Endpoints From Other Grid Middleware Clients</a><a class="headerlink" href="#connecting-to-the-unicore-bes-endpoints-from-other-grid-middleware-clients" title="Permalink to this headline">¶</a></h2>
<p>Two UNICORE BES endpoints have been deployed on FutureGrid for
interoperability testing. One endpoint is located on Sierra and the
other is located on India. This section contains the information needed
for other grid middleware platforms to connect to the UNICORE BES
endpoints.</p>
<div class="section" id="india-endpoint-info-currently-unavailable">
<h3><a class="toc-backref" href="#id5">4.4.1. India Endpoint Info &lt;currently unavailable&gt;</a><a class="headerlink" href="#india-endpoint-info-currently-unavailable" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Endpoint URL:</dt>
<dd><a class="reference external" href="https://149.165.146.134:8081/DEMO-SITE/services/">https://149.165.146.134:8081/DEMO-SITE/services/</a>BESFactory?res=default_bes_factory</dd>
</dl>
<p>Security: configured for username/password authentication;    <a class="reference external" href="mailto:karolina&#37;&#52;&#48;virginia&#46;edu">Email</a> for username token and CA cert.</p>
<p>OS: Red Hat Enterprise Linux Server release 5.5</p>
<p>Arch: x86_64</p>
<dl class="docutils">
<dt>Cores: 8 (Jobs submitted directly to machine - i.e. not through</dt>
<dd>PBS queue)</dd>
</dl>
</div>
<div class="section" id="sierra-endpoint-info">
<h3><a class="toc-backref" href="#id6">4.4.2. Sierra Endpoint Info</a><a class="headerlink" href="#sierra-endpoint-info" title="Permalink to this headline">¶</a></h3>
<p>Endpoint URL: <a class="reference external" href="https://198.202.120.85:8081/DEMO-SITE/services/">https://198.202.120.85:8081/DEMO-SITE/services/</a>BESFactory?res=default_bes_factory</p>
<dl class="docutils">
<dt>Security: configured for X-509 based mutual client</dt>
<dd>authentication; <a class="reference external" href="mailto:karolina&#37;&#52;&#48;virginia&#46;edu">Email</a> with X-509
cert and for CA cert.</dd>
</dl>
<p>OS: Red Hat Enterprise Linux Server release 5.5</p>
<p>Arch: x86_64</p>
<p>Cores: 320 (Jobs submitted to PBS queue)</p>
</div>
</div>
<div class="section" id="connecting-to-the-unicore-bes-endpoints-using-a-unicore-commandline-client">
<h2><a class="toc-backref" href="#id7">4.5. Connecting to the UNICORE BES Endpoints Using a UNICORE Commandline Client</a><a class="headerlink" href="#connecting-to-the-unicore-bes-endpoints-using-a-unicore-commandline-client" title="Permalink to this headline">¶</a></h2>
<p>A UNICORE client can be used to connect to the FutureGrid UNICORE6
endpoints. This section describes how to install a UCC ( UNICORE
Commandline Client), configure it to connect to a FutureGrid U6 endpoint
via X-509 based mutual client authentication, and then submit jobs via
BES.</p>
<div class="section" id="installing-the-unicore6-commandline-client-ucc">
<h3><a class="toc-backref" href="#id8">4.5.1. Installing the UNICORE6 Commandline Client (UCC)</a><a class="headerlink" href="#installing-the-unicore6-commandline-client-ucc" title="Permalink to this headline">¶</a></h3>
<div class="section" id="acquire-client-bundle">
<h4><a class="toc-backref" href="#id9">4.5.1.1. Acquire Client Bundle</a><a class="headerlink" href="#acquire-client-bundle" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>Navigate to the UNICORE website:
<a class="reference external" href="http://www.unicore.eu/">http://www.unicore.eu/</a></li>
<li>Select “Download” link in left hand tool bar</li>
<li>Under Clients section, select “Download” link for Commandline Client</li>
<li>Click on folder for desired version  (i.e. 6.4.1)</li>
<li>Click on desired distribution bundle to download  (i.e.
ucc-6.4.1-all.tar.gz)</li>
</ol>
</div>
<div class="section" id="unpack-ucc">
<h4><a class="toc-backref" href="#id10">4.5.1.2. Unpack UCC</a><a class="headerlink" href="#unpack-ucc" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Unpack files from downloaded distribution bundle  (i.e. tar -xvzf
ucc-6.4.1-all.tar.gz)</p>
</li>
<li><p class="first">On completion, there should be a directory containing the UNICORE6
commandline client  (i.e. ucc-6.4.1)</p>
</li>
<li><p class="first">You can add the bin directory to your path for easier client
execution:</p>
<div class="highlight-python"><pre>export PATH=$PATH:&lt;UCC_HOME&gt;/bin,  where UCC_HOME is the directory you installed UCC</pre>
</div>
</li>
</ul>
</div>
<div class="section" id="examine-ucc-files">
<h4><a class="toc-backref" href="#id11">4.5.1.3. Examine UCC Files</a><a class="headerlink" href="#examine-ucc-files" title="Permalink to this headline">¶</a></h4>
<p>Directory Structure</p>
<ul class="simple">
<li>bin – contains executable “ucc”</li>
<li>certs</li>
<li>conf – contains <em>preferences</em>file to be configured with security
and registry settings</li>
<li>doc</li>
<li>extras</li>
<li>lib</li>
<li>samples</li>
</ul>
</div>
<div class="section" id="run-commandline-client">
<h4><a class="toc-backref" href="#id12">4.5.1.4. Run Commandline Client</a><a class="headerlink" href="#run-commandline-client" title="Permalink to this headline">¶</a></h4>
<p>Run ucc to get list and description of available commands:</p>
<div class="highlight-python"><pre>$UCC_HOME/bin/
ucc</pre>
</div>
<div class="highlight-python"><pre>Usage: ucc &lt;command&gt; [OPTIONS] &lt;args&gt;
 The following commands are available:
 DATA MANAGEMENT
  ls                     - list a storage
  rm                    - remove a remote file or directory
  copy-file-status      - check status of a copy-file
  get-file              - get remote files
  find                 - find files on storages
  resolve                - resolve remote location
  mkdir                  - create a directory remotely
  copy-file             - copy remote files
  put-file               - puts a local file to a remote server
 GENERAL
  create-storage       - create a storage service instance
  connect               - connect to UNICORE
  list-storages         - list the available remote storages
  list-applications    - lists applications on target systems
  list-jobs             - list your jobs
  list-sites             - list remote sites
  system-info            - checks the availability of services
 JOB EXECUTION
  run                    - run a job through UNICORE 6
  get-status             - get job status
  abort-job             - abort a job
  batch                  - run ucc on a set of files
  get-output            - get output files
 OGSA-BES
  bes-list-att           - provides information about U6 BES Interface
  bes-terminate-job      - terminate bes activity
  bes-submit-job         - run a job through UNICORE 6 BES Interface
  bes-list-jobs         - list jobs running on BES.
  bes-job-status         - get bes activity status
 OTHER
  shell                  - starts an interactive UCC session
  issue-delegation      - allows to issue a trust delegation assertion
  connect-to-testgrid   - get credentials for the public testgrid
  wsrf                   - perform a WSRF operation
  cip-query              - query a CIS Infoprovider at a UNICORE site
  run-groovy            - run a Groovy script
 WORKFLOW
  workflow-trace        - trace info on a workflow in Chemomentum
  workflow-control      - offers workflow control functions
  workflow-submit       - submit a workflow
  workflow-info         - lists info on workflows.
  broker-run             - submit work assignment to service
orchestrator
 Enter 'ucc &lt;command&gt; -h' for help on a particular</pre>
</div>
</div>
<div class="section" id="installation-conclusion">
<h4><a class="toc-backref" href="#id13">4.5.1.5. Installation Conclusion</a><a class="headerlink" href="#installation-conclusion" title="Permalink to this headline">¶</a></h4>
<p>At this point, the UNICORE Commandline Client has been
installed. However, the client is currently not connected to any
UNICORE sites. The next section will explain how to configure the
client so that the client will connect to one of the FutureGrid U6
endpoints</p>
</div>
</div>
<div class="section" id="configuring-client-to-connect-to-futuregrid-u6-endpoints">
<h3><a class="toc-backref" href="#id14">4.5.2. Configuring Client to Connect to FutureGrid U6 Endpoints</a><a class="headerlink" href="#configuring-client-to-connect-to-futuregrid-u6-endpoints" title="Permalink to this headline">¶</a></h3>
<div class="section" id="configuration-overview">
<h4><a class="toc-backref" href="#id15">4.5.2.1. Configuration Overview</a><a class="headerlink" href="#configuration-overview" title="Permalink to this headline">¶</a></h4>
<p>To connect to a FutureGrid U6 endpoint, you need to</p>
<ul class="simple">
<li>setup security information so that your client will trust the
FutureGrid U6 endpoint and vice-versa</li>
<li>specify the connection address that the client should use (aka
registry address)</li>
</ul>
<p>This configuration process consists of</p>
<ul class="simple">
<li>setting up keystore and truststore files with security info</li>
<li>specifying a registry address for the FutureGrid endpoint</li>
</ul>
<p>This information is stored in a <em>preferences</em> file (starter at $UCC_HOME/conf/preferences)</p>
</div>
</div>
<div class="section" id="setting-up-security-in-unicore">
<h3><a class="toc-backref" href="#id16">4.5.3. Setting Up Security in UNICORE</a><a class="headerlink" href="#setting-up-security-in-unicore" title="Permalink to this headline">¶</a></h3>
<p>To setup security, you will need to inform the UNICORE software of your
identity and who you trust via keystore and truststore files:</p>
<dl class="docutils">
<dt>Keystore: a file from which UNICORE software reads your identity,</dt>
<dd>i.e. your private key and your certificate. As your private key is
very sensitive, the keystore is encrypted and you will need a
password to &#8220;unlock” it before usage.</dd>
<dt>Truststore: a file from which UNICORE software reads certificates</dt>
<dd>of the Certificate Authorities you trust. It is not as sensitive as a
keystore, but it is also encrypted.</dd>
</dl>
<p>For an overview of the security mechanism found in the UNICORE grid
middleware, please consult the <a class="reference external" href="http://unicore.svn.sourceforge.net/svnroot/unicore/documentation/old/securityGuide/Main-UCCOnly.pdf">Users&#8217; UNICORE Security Guide UCC
version</a>
This guide also discusses common security configuration problems and
details how to create keystores/truststores</p>
</div>
<div class="section" id="setting-up-a-keystore">
<h3><a class="toc-backref" href="#id17">4.5.4. Setting Up a Keystore</a><a class="headerlink" href="#setting-up-a-keystore" title="Permalink to this headline">¶</a></h3>
<p>Assumption: you want to use a preexisting X.509 certificate for security
validation</p>
<ul>
<li><p class="first">If your key and certificate are in a keystore (in PKCS12 or JKS
format), you can directly use this keystore</p>
</li>
<li><p class="first">If you have PEM files, you will need to wrap your key and certificate
files into a PKCS12 keystore:</p>
<div class="highlight-python"><pre>openssl pkcs12 -export -in myCert.pem -inkey myKey.pem -out keystore.p12 -name mykey</pre>
</div>
</li>
</ul>
<div class="section" id="creating-a-truststore">
<h4><a class="toc-backref" href="#id18">4.5.4.1. Creating a Truststore</a><a class="headerlink" href="#creating-a-truststore" title="Permalink to this headline">¶</a></h4>
<p>Assumption: you have certificates for CAs that you trust and want to put
into a truststore file. This should include:</p>
<p>CA cert for CA that issued your certificate</p>
<p>CA cert for CA that issued FutureGrid U6 endpoint certs (Email
<a class="reference external" href="mailto:uvacse&#37;&#52;&#48;virginia&#46;edu">uvacse<span>&#64;</span>virginia<span>&#46;</span>edu</a> for cert)</p>
<p>To create a truststore with keytool:</p>
<div class="highlight-python"><pre>keytool -import -keystore truststore.jks -file CAcert.pem -alias
myTrustedCA</pre>
</div>
<p>Repeat command for every CA certificate file (set a unique alias for
each certificate)</p>
</div>
<div class="section" id="acquiring-the-registry-address">
<h4><a class="toc-backref" href="#id19">4.5.4.2. Acquiring the Registry Address</a><a class="headerlink" href="#acquiring-the-registry-address" title="Permalink to this headline">¶</a></h4>
<p>The UNICORE Registry server provides information about available
services to clients and other services</p>
<p>Registry address for FutureGrid U6 Endpoint on Sierra (as of 08/2011):</p>
<div class="highlight-python"><pre>https://198.202.120.85:8081/DEMO-SITE/services/Registry?res=default_registry</pre>
</div>
</div>
<div class="section" id="connecting-to-endpoints-w-o-registries">
<h4><a class="toc-backref" href="#id20">4.5.4.3. Connecting to Endpoints w/o Registries</a><a class="headerlink" href="#connecting-to-endpoints-w-o-registries" title="Permalink to this headline">¶</a></h4>
<p>A Registry URL is expected to be provided in the preferences file. If a
BES endpoint is not advertised via a UNICORE Registry, the configuration
options can be modified to allow this behavior.</p>
<ol class="arabic">
<li><p class="first">In the preferences file, set the contact-registry to false:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">contact</span><span class="o">-</span><span class="n">registry</span><span class="o">=</span><span class="n">false</span>
</pre></div>
</div>
</li>
</ol>
<ol class="arabic" start="2">
<li><p class="first">Instead, provide at least one BESFactory URL using the following
format:</p>
<div class="highlight-python"><pre>bes.1=https://site1.com/services/BESFactory
bes.4=file:///tmp/bes.xml
bes.5=/tmp/bes.xml</pre>
</div>
</li>
</ol>
<p>If the &#8220;contact-registry&#8221; option is set to false and no OGSA-BES URL is
specified, UCC will report an error.</p>
<p>To use an XML endpoint reference (EPR) read from a file for contacting a
BESFactory service, the contents of a EPR file must validate against the
WS-Addressing’s endpoint reference schema.</p>
</div>
<div class="section" id="preferences-file-modifications">
<h4><a class="toc-backref" href="#id21">4.5.4.4. Preferences File Modifications</a><a class="headerlink" href="#preferences-file-modifications" title="Permalink to this headline">¶</a></h4>
<p>Once you have keystore and truststore files, configure the client
preferences file to use this security information</p>
<p>$UCC_HOME/conf/preferences</p>
<ul class="simple">
<li>Keystore Settings</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Set keystore path to the full path to where your keystore file is
saved locally</li>
<li>Provide the password that “unlocks” your keystore file</li>
<li>If you do not want specify the password, you will be asked for it on
the commandline</li>
<li>Provide keystore’s alias</li>
<li>Provide keystore’s storetype (PKCS12 or JKS)</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>Truststore Settings</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Set truststore path to the full path to where your truststore file is
saved locally</li>
<li>Provide the password that “unlocks” your truststore file</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>Registry Address or BESFactory URL Information</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Provide registry address/BESFactory URL of FutureGrid U6 endpoint</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="example-preferences-file">
<h4><a class="toc-backref" href="#id22">4.5.4.5. Example Preferences File</a><a class="headerlink" href="#example-preferences-file" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><pre>keystore=/home/gridcerts/keystore.p12
password=YOUR-KEYSTORE-PASSWORD
storetype=pkcs12
alias=myKeystore

truststore=/home/gridcerts/truststore.jks
truststorePassword=YOUR-TRUSTSTORE-PASSWORD

# The address(es) of the registries to contact (space separated list)
registry=https://198.202.120.85:8081/DEMO-SITE/services/Registry?res=default_registry

# ... other properties can follow</pre>
</div>
</div>
<div class="section" id="locating-the-preferences-file">
<h4><a class="toc-backref" href="#id23">4.5.4.6. Locating the Preferences File</a><a class="headerlink" href="#locating-the-preferences-file" title="Permalink to this headline">¶</a></h4>
<p>By default, UCC checks for the existence of a file at
$USER_HOME/.ucc/preferences and reads default settings from there</p>
<p>Copy your preferences file to this location or specify it’s a location
every time you issue a UCC command:</p>
<div class="highlight-python"><pre>-c $UCC_HOME/conf/preferences</pre>
</div>
</div>
<div class="section" id="validate-client-setup">
<h4><a class="toc-backref" href="#id24">4.5.4.7. Validate Client Setup</a><a class="headerlink" href="#validate-client-setup" title="Permalink to this headline">¶</a></h4>
<p>To check access to FutureGrid endpoints, try a command while specifying
the path to your preferences file:</p>
<div class="highlight-python"><pre>$UCC_HOME/bin/ucc system-info -v -l -c $UCC_HOME/conf/preferences
$UCC-HOME/bin/ucc list-sites -c $UCC_HOME/conf/preferences</pre>
</div>
<p>If everything is alright you should see information about the FutureGrid
endpoint.</p>
</div>
<div class="section" id="configuration-conclusion">
<h4><a class="toc-backref" href="#id25">4.5.4.8. Configuration Conclusion</a><a class="headerlink" href="#configuration-conclusion" title="Permalink to this headline">¶</a></h4>
<p>Your UCC has now been configured to access the FutureGrid U6 endpoint
via X-509 based mutual client authentication. Consult the next section
to learn about getting started and submit jobs.</p>
</div>
</div>
<div class="section" id="submitting-jobs-to-futuregrid-u6-endpoints">
<h3><a class="toc-backref" href="#id26">4.5.5. Submitting Jobs to FutureGrid U6 Endpoints</a><a class="headerlink" href="#submitting-jobs-to-futuregrid-u6-endpoints" title="Permalink to this headline">¶</a></h3>
<div class="section" id="getting-started">
<h4><a class="toc-backref" href="#id27">4.5.5.1. Getting Started</a><a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h4>
<p>Make sure you have access to some target system:</p>
<div class="highlight-python"><pre>$UCC_HOME/bin/ucc connect -c $UCC_HOME/conf/preferences</pre>
</div>
<p>List the sites available to you using:</p>
<div class="highlight-python"><pre>$UCC_HOME/bin/ucc list-sites -c $UCC_HOME/conf/preferences</pre>
</div>
<p>Run a sample job:</p>
<div class="highlight-python"><pre>$UCC_HOME/bin/ucc run -v $UCC_HOME/samples/date.u -c $UCC_HOME/conf/preferences</pre>
</div>
</div>
<div class="section" id="submit-jobs-to-bes">
<h4><a class="toc-backref" href="#id28">4.5.5.2. Submit Jobs to BES</a><a class="headerlink" href="#submit-jobs-to-bes" title="Permalink to this headline">¶</a></h4>
<p>To send a job read from a JSDL file</p>
<ul>
<li><p class="first">to a site listed in the preferences file:</p>
<div class="highlight-python"><pre>$UCC_HOME/bin/ucc bes-submit-job -j hellompi.xml -s bes.3 -v</pre>
</div>
</li>
<li><p class="first">using a BESFactory URL:</p>
<div class="highlight-python"><pre>ucc bes-submit-job -j hellompi.xml -s https://example.com/services/BESFactory -v</pre>
</div>
</li>
<li><p class="first">using an endpoint reference file path:</p>
<div class="highlight-python"><pre>ucc bes-submit-job -j hellompi.xml -s file:///tmp/bes.xml -v</pre>
</div>
</li>
</ul>
</div>
<div class="section" id="other-bes-related-commands">
<h4><a class="toc-backref" href="#id29">4.5.5.3. Other BES Related Commands</a><a class="headerlink" href="#other-bes-related-commands" title="Permalink to this headline">¶</a></h4>
<p>Check job status:</p>
<div class="highlight-python"><pre>ucc bes-job-status jobid.job</pre>
</div>
<p>Terminate job:</p>
<div class="highlight-python"><pre>ucc bes-terminate-job jobid.job</pre>
</div>
<p>List user’s jobs on a BESFactory:</p>
<div class="highlight-python"><pre>ucc bes-list-job-s bes.1</pre>
</div>
<p>List BESFactory properties:</p>
<div class="highlight-python"><pre>ucc bes-list-att -s bes.1</pre>
</div>
<p>*Descriptor (.job) file is automatically generated after a successful
execution of &#8220;bes-submit-job&#8221; command</p>
</div>
<div class="section" id="job-submission-conclusion">
<h4><a class="toc-backref" href="#id30">4.5.5.4. Job Submission Conclusion</a><a class="headerlink" href="#job-submission-conclusion" title="Permalink to this headline">¶</a></h4>
<p>You should now be able to submit jobs to a BES service on a FutureGrid
U6 endpoint</p>
</div>
</div>
<div class="section" id="references">
<h3><a class="toc-backref" href="#id31">4.5.6. References</a><a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h3>
<p>The information provided in this section has been extracted from the
following sources. Each contains much more detail about the various
topics discussed here.</p>
<ul class="simple">
<li><a class="reference external" href="https://unicore.svn.sourceforge.net/svnroot/unicore/documentation/old/securityGuide/Main-UCCOnly.pdf">UNICORE6
Manuals</a></li>
<li><a class="reference external" href="http://www.unicore.eu/documentation/manuals/unicore6/files/ucc/ucc-manual.html">UNICORE Commandline Client: User
Manual</a></li>
<li><a class="reference external" href="https://unicore.svn.sourceforge.net/svnroot/unicore/documentation/old/securityGuide/Main-UCCOnly.pdf">UNICORE Security Guide:
UCC</a></li>
</ul>
</div>
<div class="section" id="questions-comments">
<h3><a class="toc-backref" href="#id32">4.5.7. Questions/Comments</a><a class="headerlink" href="#questions-comments" title="Permalink to this headline">¶</a></h3>
<p>Please email <a class="reference external" href="mailto:uvacse&#37;&#52;&#48;virginia&#46;edu">uvacse<span>&#64;</span>virginia<span>&#46;</span>edu</a></p>
</div>
</div>
<div class="section" id="running-jobs-on-unicore-sites">
<h2><a class="toc-backref" href="#id33">4.6. Running Jobs on UNICORE Sites</a><a class="headerlink" href="#running-jobs-on-unicore-sites" title="Permalink to this headline">¶</a></h2>
<p>This section provides a general overview of running jobs on UNICORE
sites.</p>
<p>First, you can check whether there is an available target system for
execution:</p>
<div class="highlight-python"><pre>$ucc connect -c &lt;path_to_ucc.preferences&gt;</pre>
</div>
<p>You can also list the available target sites:</p>
<div class="highlight-python"><pre>$ucc list-sites</pre>
</div>
<p>To run a job, you can specify the job using the UNICORE <a class="reference external" href="http://www.unicore.eu/documentation/manuals/unicore6/ucc/jobdescription.html">job description
format</a>:</p>
<div class="highlight-python"><pre>$ucc run &lt;job_description_file&gt;</pre>
</div>
<p>Or you can specify a job to run using a Job Submission Description
Language (JSDL) file:</p>
<div class="highlight-python"><pre>$ucc run -j &lt;JSDL_file&gt;</pre>
</div>
<p>For example, a simple job to run the date, date.u, could be described
using the UNICORE description format as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#</span>
<span class="c"># simple job: run Date</span>
<span class="c">#</span>

<span class="p">{</span>
 <span class="n">ApplicationName</span><span class="p">:</span> <span class="n">Date</span><span class="p">,</span>
 <span class="n">ApplicationVersion</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This job can then be run with the command:</p>
<div class="highlight-python"><pre>$ucc run date.u</pre>
</div>
<p>Alternately, this job could be described using a JSDL file, date.jsdl,
as follows:</p>
<div class="highlight-python"><pre> &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;jsdl:JobDefinition xmlns="http://www.example.org/"
       xmlns:jsdl="http://schemas.ggf.org/jsdl/2005/11/jsdl"
       xmlns:jsdl-posix="http://schemas.ggf.org/jsdl/2005/11/jsdl-posix"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;

       &lt;jsdl:JobDescription&gt;
               &lt;jsdl:JobIdentification&gt;
                       &lt;jsdl:JobName&gt;Test Job&lt;/jsdl:JobName&gt;
               &lt;/jsdl:JobIdentification&gt;

               &lt;jsdl:Application&gt;
                       &lt;jsdl:ApplicationName&gt;Date 1.0&lt;/jsdl:ApplicationName&gt;
                       &lt;jsdl-posix:POSIXApplication&gt;
                             &lt;jsdl-posix:Executable&gt;
                                     /bin/date
                             &lt;/jsdl-posix:Executable&gt;
                     &lt;/jsdl-posix:POSIXApplication&gt;
             &lt;/jsdl:Application&gt;
       &lt;/jsdl:JobDescription&gt;
&lt;/jsdl:JobDefinition&gt;</pre>
</div>
<p>This JSDL job can then be run with the command:</p>
<div class="highlight-python"><pre>$ucc run -j date.jsdl.</pre>
</div>
</div>
<hr class="docutils" />
<div class="section" id="deploying-a-new-unicore-6-grid">
<h2><a class="toc-backref" href="#id34">4.7. Deploying a New UNICORE 6 Grid</a><a class="headerlink" href="#deploying-a-new-unicore-6-grid" title="Permalink to this headline">¶</a></h2>
<p>This section details how to install and setup a UNICORE 6 grid. This
will create a new grid infrastructure separate from the existing
deployments mentioned above.</p>
<div class="section" id="prerequisites">
<h3><a class="toc-backref" href="#id35">4.7.1. Prerequisites</a><a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<p>Prerequisites listed in UNICORE 6 README.txt file:</p>
<ul class="simple">
<li>Java 5 JRE or SDK (or later). We recommend using SUN Java 6.</li>
</ul>
<p>You can check what version of java is installed by running:</p>
<div class="highlight-python"><pre>$java -version</pre>
</div>
<p>If the java version is too old or the command is not found, download the
latest JRE version. After unpacking, update JAVA_HOME and PATH:</p>
<div class="highlight-python"><pre>JAVA_HOME=&lt;JAVA_LOCATION&gt;
PATH=&lt;JAVA_LOCATION&gt;/bin:$PATH</pre>
</div>
<ul class="simple">
<li>Perl 5 (only for the classic TSI)</li>
</ul>
<p>You will need Perl if you will be running jobs via a queue management
system. By default, jobs run directly on the local machine. Extra
configuration is needed to setup a TSI and run jobs via a queue
management system.</p>
</div>
<div class="section" id="installing-the-core-server-bundle">
<h3><a class="toc-backref" href="#id36">4.7.2. Installing the Core Server Bundle</a><a class="headerlink" href="#installing-the-core-server-bundle" title="Permalink to this headline">¶</a></h3>
<p>The UNICORE 6 Core Server Bundle can be downloaded from the <a class="reference external" href="http://www.unicore.eu/download/unicore6/">UNICORE
website</a>. This bundle will
provide you with the minimal set of UNICORE components (Gateway,
UNICORE/X, TSI, XUUDB) needed to get a UNICORE 6 grid up and running
quickly.</p>
<p>From the README.txt:</p>
<div class="highlight-python"><pre>The basic configuration and installation is as follows
1) edit configure.properties
2) ./configure.py &lt;unicore_user&gt; [&lt;hostname&gt;]
3) run ./install.py to install UNICORE in the selected directory

To start the configuration process, do (as non-root user)
./configure.py &lt;login&gt; [&lt;hostname&gt;]
where &lt;login&gt; is the Unix account that the installation shall use, and the
optional &lt;hostname&gt; indicates which hostname shall be used. If not given,
a hostname lookup will be performed.

If you want to customize this process, edit the "configure.properties" file,
which contains all the ports and other settings (except security settings
such as keystore locations).

To finally copy the files into the installation directory, run
./install.py

More documentation at http://www.unicore.eu/documentation.</pre>
</div>
</div>
<div class="section" id="starting-stopping-the-unicore-servers">
<h3><a class="toc-backref" href="#id37">4.7.3. Starting/Stopping the UNICORE Servers</a><a class="headerlink" href="#starting-stopping-the-unicore-servers" title="Permalink to this headline">¶</a></h3>
<p>The servers are started with the start.sh script and stopped with the
stop.sh script. Both of these scripts are located under the UNICORE
install directory:</p>
<div class="highlight-python"><pre>You can confirm that the UNICORE servers are running with the ps command.
You should see three processes running: XUUDB, Gateway, and UNICOREX.

$ps aux| grep unicore</pre>
</div>
</div>
</div>
</div>


</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>